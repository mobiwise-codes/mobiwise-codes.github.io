<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Description" />
    <title>TEST</title>
    <style>
      body {
        background: #232323;
        color: #f0f0f0;
      }
    </style>
  </head>
  <body>
    <include src="https://raw.githubusercontent.com/Official-MobiWise/mobiwise/main/components/navbar.html"></include>
    <section id="intro">
      <div class="intro">
        <div class="intro-container">
          <div class="text-1">MOBIWISE.FR</div>
          <div class="text-2">MOBIWISE.FR</div>
          <div class="text-3">MOBIWISE.FR</div>
          <div class="text-4">MOBIWISE.FR</div>
          <div class="text-5">MOBIWISE.FR</div>
          <div class="text-6">MOBIWISE.FR</div>
          <div class="text-7">MOBIWISE.FR</div>
          <div class="text-8">MOBIWISE.FR</div>
          <div class="text-9">MOBIWISE.FR</div>
          <div class="text-10">MOBIWISE.FR</div>
          <div class="text-11">MOBIWISE.FR</div>
        </div>
      </div>
    </section>
    <h1>TEST 1</h1>
    <include src="https://raw.githubusercontent.com/Official-MobiWise/mobiwise/main/components/footer.html"></include>
    <script>
      const INC_LIST = document.querySelectorAll("include"),
        INC_BODY = document.querySelector("body"),
        INC_LOGGER = INC_BODY.getAttribute("includer-log"),
        LOG_TIME = `[${new Date().toLocaleTimeString()}]`,
        END_PREFIX = ".html",
        MESSAGE = { LOADED: "\u2705 Document loaded with success", ERROR: { SRC: " The <include> tag is required to have the 'src' attribute.", END_WITH: " The <include> tag is required to have the 'id' attribute." } },
        time = Date.now();
      INC_LOGGER === "true" && console.log(LOG_TIME + ` \u{1F50E} Found ${INC_LIST.length} include tags in ${Date.now() - time}ms`),
        window.addEventListener("load", () => {
          console.log(LOG_TIME + `%c ${MESSAGE.LOADED}`, "background: #222; color: #b00fe6");
        }),
        INC_LIST.forEach((t) => {
          const s = "includer-" + Math.floor(Math.random() * 1e11);
          t.setAttribute("id", s);
          let e = t.getAttribute("src");
          const r = t.getAttribute("id");
          function i() {
            if (e)
              if (r) {
                if (!e.includes(END_PREFIX)) return console.error(LOG_TIME + ` The source to ${e}, must end with ${END_PREFIX}`);
              } else return console.error(LOG_TIME + MESSAGE.ERROR.END_WITH);
            else return console.error(LOG_TIME + MESSAGE.ERROR.SRC);
            let o = new XMLHttpRequest();
            o.open("GET", `${e}`),
              (o.onload = function () {
                const n = document.getElementById(r);
                this.status == 200 ? ((n.innerHTML = this.responseText), n.setAttribute("loaded", Date.now() - time + "ms")) : this.status === 404 && (n.innerHTML = '<h1 style="color: red">Response came with 404 code.</h1>'),
                  INC_LOGGER === "true" && console.log(LOG_TIME + ` \u{1F680} fetched ${e} in ${Date.now() - time}ms`);
              }),
              o.send();
          }
          i();
        });
    </script>
  </body>
</html>
